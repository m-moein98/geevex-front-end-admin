<nb-card>
  <nb-card-header>
    <h4>Orders Management</h4>
  </nb-card-header>
  <nb-card-body>
    <div class="row mb-3">
      <div class="col-md-2">
        <nb-form-field>
          <nb-select
            placeholder="Status"
            [(selected)]="selectedStatus"
            (selectedChange)="onStatusChange($event)"
            [fullWidth]="true"
            multiple>
            <nb-option *ngFor="let status of orderStatuses" [value]="status">
              {{ status }}
            </nb-option>
          </nb-select>
        </nb-form-field>
      </div>
      <div class="col-md-2">
        <nb-form-field>
          <nb-select
            placeholder="Action"
            [(selected)]="selectedAction"
            (selectedChange)="onActionChange($event)"
            [fullWidth]="true">
            <nb-option *ngFor="let action of orderActions" [value]="action">
              {{ action }}
            </nb-option>
          </nb-select>
        </nb-form-field>
      </div>
      <div class="col-md-2">
        <nb-form-field>
          <input
            nbInput
            fullWidth
            list="sourceCoinList"
            placeholder="Source Coin"
            [value]="getCoinDisplay(sourceCoinId)"
            (input)="onCoinInput($event, 'source')">
          <datalist id="sourceCoinList">
            <option *ngFor="let coin of coins" [value]="coin.symbol + ' - ' + coin.name"></option>
          </datalist>
        </nb-form-field>
      </div>
      <div class="col-md-2">
        <nb-form-field>
          <input
            nbInput
            fullWidth
            list="destCoinList"
            placeholder="Destination Coin"
            [value]="getCoinDisplay(destinationCoinId)"
            (input)="onCoinInput($event, 'destination')">
          <datalist id="destCoinList">
            <option *ngFor="let coin of coins" [value]="coin.symbol + ' - ' + coin.name"></option>
          </datalist>
        </nb-form-field>
      </div>
      <div class="col-md-2">
        <button
          nbButton
          status="basic"
          outline
          (click)="resetFilters()">
          Reset Filters
        </button>
      </div>
    </div>

    <!-- Data Table -->
    <ng2-smart-table
      [settings]="settings"
      [source]="source"
      (edit)="onEdit($event)"
      (deleteConfirm)="onDeleteConfirm($event)">
    </ng2-smart-table>
  </nb-card-body>
</nb-card>

<!-- Loading Spinner -->
<div *ngIf="isLoading" class="loading-overlay">
  <nb-spinner status="primary"></nb-spinner>
</div>